import java.util.Scanner;

public class Dek {
	Card[] dek = new Card[30];

	Card[] loadDefaultCards() {
		FileIO f = new FileIO();
		String c = f.readFile("cards.nx");
		System.out.println(c);
		String[] eachcard = c.split("\n");
		Card[] cards = new Card[eachcard.length];
		System.out.println(eachcard.length);
		

		for (String s : eachcard) {
			String[] tmp = s.split("@%@");
			try {
				cards[Integer.parseInt(tmp[0])].name = tmp[1];
				cards[Integer.parseInt(tmp[0])].cost = Integer.parseInt(tmp[2]);
				cards[Integer.parseInt(tmp[0])].attack = Integer
						.parseInt(tmp[3]);
				cards[Integer.parseInt(tmp[0])].defense = Integer
						.parseInt(tmp[4]);
				cards[Integer.parseInt(tmp[0])].type = Integer.parseInt(tmp[5]);
				cards[Integer.parseInt(tmp[0])].description = tmp[6];
			} catch (Exception e) {

			}
		}
		return cards;

	}

	String[] getDekList() {
		FileIO f = new FileIO();
		String cards = f.readFile("dek.nx");
		String[] dek = cards.split("\n");
		return dek;
	}

	void showDek(String[] dek) {
		int i = 0;
		for (String s : dek) {
			String[] tmp = s.split("@%@");
			i++;
			System.out.println(i + ". " + tmp[1]);
		}
	}

	String select(int select) {
		String dek[] = getDekList();
		String[] splt = dek[select].split("@%@");
		return splt[1];
	}

	void SelectDek(Scanner scan, GetValue g) {
		System.out.println("덱을 선택해주세요.");
		String[] dek = getDekList();
		showDek(dek);
		int pick = g.Int(scan);
		String selected = select(pick);
		FileIO f = new FileIO();
		String res = f.readFile("./dek/" + selected + ".nx");
		System.out.println(res);
		String[] sdek = res.split("@%@");

		System.out.println("덱이름: " + sdek[0]);
		Card[] cards = loadDefaultCards();
		System.out.println(cards[1].name);
		
		for (int i = 1; i < sdek.length-1; i++) {
			String[] tmp = sdek[i].split("#");
			System.out.println(tmp[0]);
			System.out.println(cards[Integer.parseInt(tmp[0])].name);
		}
	}

	void loadCards() {

	}

}
